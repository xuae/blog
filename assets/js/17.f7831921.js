(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{510:function(s,a,t){"use strict";t.r(a);var n=t(5),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("Boxx"),s._v(" "),t("p",[s._v("Laravel Homestead："),t("a",{attrs:{href:"https://laravelacademy.org/post/21961",target:"_blank",rel:"noopener noreferrer"}},[s._v("Laravel 8 官方扩展 Homestead 安装文档"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("具体简介请查看官方文档，以下只讲解自己是如何安装和使用此虚拟机的步骤。")]),s._v(" "),t("ul",[t("li",[s._v("电脑环境：Win 10")]),s._v(" "),t("li",[s._v("vagrant box 版本："),t("code",[s._v("11.3.0")])]),s._v(" "),t("li",[s._v("homestead 版本："),t("code",[s._v("12.3.2")])])]),s._v(" "),t("h2",{attrs:{id:"准备工作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#准备工作"}},[s._v("#")]),s._v(" 准备工作")]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"title"}),t("p",[s._v("首次安装需要 Virtual Box、VMWare、Parallels 或 Hyper-V （四选一，我这用的是 VirtualBox，因为只有 VirtualBox 是免费的）")])]),t("ol",[t("li",[t("p",[s._v("安装 VirtualBox，"),t("a",{attrs:{href:"https://www.virtualbox.org/wiki/Downloads",target:"_blank",rel:"noopener noreferrer"}},[s._v("官网"),t("OutboundLink")],1),s._v(" 下载最新版本安装。")])]),s._v(" "),t("li",[t("p",[s._v("安装 Vagrant，"),t("a",{attrs:{href:"https://www.vagrantup.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("官网"),t("OutboundLink")],1),s._v(" 下载最新版本安装。")])]),s._v(" "),t("li",[t("p",[s._v("下载 homestead vagrant box（近 2G 大小)，直接使用 vagrant 下载很慢，所以我这儿是先把 box 下载下来，然后再绑定到 vagrant 中去的：")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("box 官方版本下载链接："),t("a",{attrs:{href:"https://app.vagrantup.com/laravel/boxes/homestead",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://app.vagrantup.com/laravel/boxes/homestead"),t("OutboundLink")],1)])]),s._v(" "),t("li",[t("p",[s._v("我下载的版本是 "),t("a",{attrs:{href:"https://vagrantcloud.com/laravel/boxes/homestead/versions/11.3.0/providers/virtualbox.box",target:"_blank",rel:"noopener noreferrer"}},[s._v("11.3.0"),t("OutboundLink")],1),s._v(" ，这里需要注意 box(v11.x) 和 homestead(v12.x) 的"),t("a",{attrs:{href:"https://github.com/laravel/homestead",target:"_blank",rel:"noopener noreferrer"}},[s._v("版本对应关系"),t("OutboundLink")],1)])])])]),s._v(" "),t("li",[t("p",[s._v("下载 homestead："),t("code",[s._v("git clone https://github.com/laravel/homestead.git")]),s._v("，直接使用 "),t("code",[s._v("git")]),s._v(" 命令下载即即可。")])])]),s._v(" "),t("h3",{attrs:{id:"修改-vagrant-box-路径"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改-vagrant-box-路径"}},[s._v("#")]),s._v(" 修改 Vagrant box 路径")]),s._v(" "),t("p",[s._v("新建环境变量即可：VAGRANT_HOME=你的路径")]),s._v(" "),t("h3",{attrs:{id:"vagrant-命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vagrant-命令"}},[s._v("#")]),s._v(" Vagrant 命令")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 初始化")]),s._v("\nvagrant init\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动虚拟机")]),s._v("\nvagrant up\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关闭虚拟机")]),s._v("\nvagrant "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("halt")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启虚拟机")]),s._v("\nvagrant reload\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SSH 至虚拟机")]),s._v("\nvagrant "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 挂起虚拟机")]),s._v("\nvagrant "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("suspend")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 唤醒虚拟机")]),s._v("\nvagrant resume\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看虚拟机运行状态")]),s._v("\nvagrant status\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 销毁当前虚拟机")]),s._v("\nvagrant destroy\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 销毁虚拟机")]),s._v("\nvagrant destroy --force\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看 box list")]),s._v("\nvagrant box list\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加 box")]),s._v("\nvagrant box "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" 名称  路径\nvagrant box "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" json文件\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除 box, 例子: vagrant box remove laravel/homestead --box-version 0")]),s._v("\nvagrant box remove 名称 --box-version 版本\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br")])]),t("h2",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),t("h3",{attrs:{id:"修改默认虚拟电脑位置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改默认虚拟电脑位置"}},[s._v("#")]),s._v(" 修改默认虚拟电脑位置")]),s._v(" "),t("p",[s._v("打开 Virtual Box -> 管理 -> 全局设定 -> 常规，修改默认虚拟电脑位置（我将其修改在 "),t("code",[s._v("D盘")]),s._v("，"),t("strong",[s._v("位置路径中不能含空格和中文")]),s._v("），要是 "),t("code",[s._v("C盘")]),s._v(" 容量够大，可以不用改。")]),s._v(" "),t("h3",{attrs:{id:"注入-vagrant-box"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#注入-vagrant-box"}},[s._v("#")]),s._v(" 注入 Vagrant Box")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("在下载的 homestead vagrant box 同目录下新建 box 的配置文件 "),t("code",[s._v("metadata.json")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"laravel/homestead"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"versions"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"version"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"11.3.0"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"providers"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"virtualbox"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"url"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"D:/homestead/homestead_vagrant_box/virtualbox.box"')]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("p",[s._v("字段说明：")]),s._v(" "),t("ul",[t("li",[t("code",[s._v('"version"')]),s._v("：你所使用的 Homestead Vagrant Box 虚拟机 的版本。")]),s._v(" "),t("li",[t("code",[s._v('"url"')]),s._v("：你所使用的 Homestead Vagrant Box 虚拟机 的路径(绝对相对都可)。")])])]),s._v(" "),t("li",[t("p",[s._v("在 "),t("code",[s._v("metadata.json")]),s._v(" 文件夹中，将配置信息注入到 Vagrant 中：")]),s._v(" "),t("p",[s._v("若之前直接使用 "),t("code",[s._v("vagrant box add laravel/homestead D:\\homestead\\homestead_vagrant_box\\virtualbox.box")]),s._v(" 此命令注入过 box，但是查看 box 列表时，含有版本为 "),t("code",[s._v("0")]),s._v(" 的，需要先将其删除，再重新添加（先添加后删除也可），否则执行 "),t("code",[s._v("vagrant up")]),s._v(" 时，提示 "),t("code",[s._v("Box 'laravel/homestead' could not be found")]),s._v(" 后，会自动在下载某个东西。")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看绑定的 vagrant box")]),s._v("\n$ vagrant box list\nlaravel/homestead "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("virtualbox, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除版本为 0 的 box（若此版本不是 0 但与 homestead 不对应，也需删除）")]),s._v("\n$ vagrant box remove laravel/homestead --box-version "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("注入版本 "),t("code",[s._v("11.3.0")]),s._v(" 的 box")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注入 metadata.json")]),s._v("\n$ vagrant box "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" metadata.json\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" box: Successfully added box "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'laravel/homestead'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("v11.3.0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'virtualbox'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n\n$ vagrant box list\nlaravel/homestead "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("virtualbox, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11.3")]),s._v(".0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])])])]),s._v(" "),t("h3",{attrs:{id:"启动-vagrant"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动-vagrant"}},[s._v("#")]),s._v(" 启动 Vagrant")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("进入下载好的 "),t("code",[s._v("homestead")]),s._v(" 项目的文件夹，执行命令（若已初始化，请忽略此步骤）：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("$ init.bat\nHomestead initialized!\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("需要启动 Virtual Box，选择 homestead box 配置其网络，设置 -> 网络 -> 网卡2 -> 连接方式选择 "),t("code",[s._v("仅主机(Host-Only)网络")]),s._v("，界面名称选择"),t("code",[s._v("Virtual Box Host-Only Ethernet Adapter #2")]),s._v("，不配置的话启动会失败。")])]),s._v(" "),t("li",[t("p",[s._v("初始化 homestead 后，再启动 vagrant：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("$ vagrant up\nBringing machine 'homestead' up with 'virtualbox' provider...\n==> homestead: Checking if box 'laravel/homestead' version '11.3.0' is up to date...\n==> homestead: Setting the name of the VM: homestead\n==> homestead: Clearing any previously set network interfaces...\n==> homestead: Preparing network interfaces based on configuration...\nhomestead: Adapter 1: nat\nhomestead: Adapter 2: hostonly\n==> homestead: Forwarding ports...\n...\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("此命令等同于：打开 Virtual Box -> 工具 -> 导入 -> 选择 vagrant 注入 box 后的文件路径："),t("code",[s._v("C:\\Users\\用户名\\.vagrant.d\\boxes\\laravel-VAGRANTSLASH-homestead\\11.3.0\\virtualbox\\box.ovf")]),s._v("，再点击 "),t("code",[s._v("下一步")]),s._v("、"),t("code",[s._v("导入")]),s._v(" 。")])])]),s._v(" "),t("h2",{attrs:{id:"配置虚拟机"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置虚拟机"}},[s._v("#")]),s._v(" 配置虚拟机")]),s._v(" "),t("p",[s._v("我们需要做的是，在虚拟机中创建项目，将该项目映射到 windows 的目录中，我们在 windows 环境下写代码，而代码在虚拟机的环境中被做处理，在 windows 环境下访问对应的站点查看运行结果。")]),s._v(" "),t("h3",{attrs:{id:"启动虚拟机"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动虚拟机"}},[s._v("#")]),s._v(" 启动虚拟机")]),s._v(" "),t("ul",[t("li",[s._v("打开虚拟机软件 -> 启动（若已启动，则点击显示）-> 输入密码 "),t("code",[s._v("vagrant")]),s._v(" 即可进入虚拟机。")]),s._v(" "),t("li",[s._v("进入下载好的 "),t("code",[s._v("homestead")]),s._v(" 项目的文件夹 -> 使用命令 "),t("code",[s._v("vagrant up")]),s._v(" 启动虚拟机。")])]),s._v(" "),t("h3",{attrs:{id:"查看虚拟机目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看虚拟机目录"}},[s._v("#")]),s._v(" 查看虚拟机目录")]),s._v(" "),t("ul",[t("li",[s._v("进入虚拟机图形界面点击左上角 Activities -> 打开 ImageMagick -> 单击这个图片 -> file -> open，便可以查看 ubuntu 目录。")]),s._v(" "),t("li",[s._v("在 "),t("code",[s._v("homestead")]),s._v(" 项目的文件夹下执行下面的命令，就可以在 windows 下操作 ubuntu 中的命令行了。"),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ vagrant "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nvagrant@homestead:~$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("               "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输入 ls ：查看当前目录的全部文件")]),s._v("\nDesktop  Documents  Downloads  Music  Pictures  Public  Templates  vendor  Videos\nvagrant@homestead:~$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" Projects   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输入mkdir xx ：新建文件夹")]),s._v("\nvagrant@homestead:~$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" Projects      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输入cd xx ：进入某个文件")]),s._v("\nvagrant@homestead:~/Projects$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输入cd .. ：返回到上一个目录")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])])])]),s._v(" "),t("h3",{attrs:{id:"项目目录映射"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#项目目录映射"}},[s._v("#")]),s._v(" 项目目录映射")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("在虚拟机中创建 "),t("code",[s._v("Projects")]),s._v(" 文件夹用于存放项目映射：通过 "),t("code",[s._v("vagrant ssh")]),s._v(" 在 windows 下操作虚拟机，"),t("code",[s._v("mkdir Projects")]),s._v(" 创建文件夹。")])]),s._v(" "),t("li",[t("p",[s._v("在 windows 下创建一个目录存放项目，比如在D盘创建一个 projects 文件夹： D:\\projects （虚拟机中的项目的实体就放在这里面了）。")])]),s._v(" "),t("li",[t("p",[s._v("配置映射：打开 windows 下 "),t("code",[s._v("homestead")]),s._v(" 目录中的 "),t("code",[s._v("Homestead.yaml")]),s._v(" 文件，修改内容如下：")]),s._v(" "),t("div",{staticClass:"language-editorconfig line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-editorconfig"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 此 IP 是用于访问虚拟机的 IP")]),s._v('\nip: "192.168.10.10"\nmemory: 2048\ncpus: 2\nprovider: virtualbox\n\nauthorize: ~/.ssh/id_rsa.pub\n\nkeys:\n    - ~/.ssh/id_rsa\n\nfolders:\n    - map: D:\\projects                         '),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# windows 下的绝对路径，项目的实体")]),s._v("\n      to: /home/vagrant/Projects               "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 虚拟机中的映射路径")]),s._v("\n\nsites:\n    - map: 192.168.10.10                       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 该项目的访问地址，即可访问 index.php")]),s._v("\n      to: /home/vagrant/Projects/demo/public   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 虚拟机中 index.php 的存放目录")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("检查项目目录是否映射成功：")]),s._v(" "),t("p",[s._v("每次修改 "),t("code",[s._v("Homestead.yaml")]),s._v(" 内容，都要重启虚拟机")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在 homestead 目录下")]),s._v("\n$ vagrant reload --provision\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启成功")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("在 windows 中打开浏览器，访问：192.168.10.10，显示了一段字符 ：No input file specified. 就代表映射成功了，因为没有 index.php ，所以就显示这段字符；若失败了，会显示 “无法显示此网页”。")])]),s._v(" "),t("li",[t("p",[s._v("将 ip 地址访问形式改成 url 的形式访问：")]),s._v(" "),t("p",[s._v("打开 "),t("code",[s._v("Homestead.yaml")]),s._v(" ，修改下面配置，保存后重启虚拟机。")]),s._v(" "),t("div",{staticClass:"language-editorconfig line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-editorconfig"}},[t("code",[s._v('ip: "192.168.10.10"\n...\nsites:\n    - map: homestead.test                      '),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 此访问的 url")]),s._v("\n      to: /home/vagrant/Projects/demo/public\n...\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("打开 "),t("code",[s._v("C:\\Windows\\System32\\drivers\\etc\\hosts")]),s._v(" ，填入：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("192.168.10.10 homestead.test\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("便实现了url 与 ip 地址的映射了，访问 homestead.test 即可成功显示页面。")])])]),s._v(" "),t("h3",{attrs:{id:"启动虚拟机报错"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动虚拟机报错"}},[s._v("#")]),s._v(" 启动虚拟机报错")]),s._v(" "),t("p",[s._v("NodeJs 下载失败，需要修改"),t("code",[s._v("homestead")]),s._v("项目中，"),t("code",[s._v("bin")]),s._v("目录下"),t("code",[s._v("wsl-init")]),s._v("文件，将"),t("code",[s._v("-sL")]),s._v("改为"),t("code",[s._v("-fsSL")]),s._v("，修改后如下所示：\n"),t("code",[s._v("# NodeJS curl -fsSL https://deb.nodesource.com/setup_14.x | sudo -E bash -")])]),s._v(" "),t("h2",{attrs:{id:"全局访问-homestead"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#全局访问-homestead"}},[s._v("#")]),s._v(" 全局访问 Homestead")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"title"}),t("p",[s._v("Windows 环境")])]),t("ol",[t("li",[t("p",[s._v("在系统的任意位置创建一个批处理文件"),t("code",[s._v("homestead.bat")]),s._v("：")]),s._v(" "),t("p",[s._v("脚本中实例路径 "),t("code",[s._v("D:\\Homestead")]),s._v(" 调整为 "),t("code",[s._v("Homestead")]),s._v(" 实际安装路径。")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("@echo off\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("cwd")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("%cd%\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("homesteadVagrant")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("D:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Homestead\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /d %homesteadVagrant% "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" vagrant %*\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /d %cwd%\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("cwd")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("homesteadVagrant")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("创建文件之后，添加该文件所在目录路径到用户环境变量的 "),t("code",[s._v("PATH")]),s._v(" 键中。")])]),s._v(" "),t("li",[t("p",[s._v("在系统的任意位置即可运行 "),t("code",[s._v("homestead up")]),s._v(" 或 "),t("code",[s._v("homestead ssh")]),s._v(" 命令。")])])]),s._v(" "),t("h2",{attrs:{id:"创建项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建项目"}},[s._v("#")]),s._v(" 创建项目")]),s._v(" "),t("p",[s._v("windows环境，在 "),t("code",[s._v("homestead")]),s._v(" 目录下，执行命令：")]),s._v(" "),t("div",{staticClass:"language-editorconfig line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-editorconfig"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在 homestead 目录下，连接虚拟机")]),s._v("\n$ vagrant ssh\nWelcome to Ubuntu 20.04.2 LTS (GNU/Linux 5.4.0-73-generic x86_64)\n _                               _                 _\n| |                             | |               | |\n| |__   ___  _ __ ___   ___  ___| |_ ___  __ _  __| |\n| '_ \\ / _ \\| '_ ` _ \\ / _ \\/ __| __/ _ \\/ _` |/ _` |\n| | | | (_) | | | | | |  __/\\__ \\ ||  __/ (_| | (_| |\n|_| |_|\\___/|_| |_| |_|\\___||___/\\__\\___|\\__,_|\\__,_|\n\n* Homestead v12.3.1 | Thanks for using Homestead\n* Settler v11.3.0\n\nLast login: Mon Aug  2 08:22:58 2021 from 10.0.2.2\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看目录")]),s._v("\nvagrant@homestead:~$ ls\nDesktop  Documents  Downloads  Music  Pictures Public  Templates  vendor  Videos\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建 Projects 文件夹")]),s._v("\nvagrant@homestead:~$ mkdir Projects\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入 Projects 目录")]),s._v("\nvagrant@homestead:~$ cd Projects\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建一个名为 demo 的 laravel 项目")]),s._v('\nvagrant@homestead:~/Projects$ laravel new demo\n _                               _\n| |                             | |\n| |     __ _ _ __ __ ___   _____| |\n| |    / _` | \'__/ _` \\ \\ / / _ \\ |\n| |___| (_| | | | (_| |\\ V /  __/ |\n|______\\__,_|_|  \\__,_| \\_/ \\___|_|\n\nCreating a "laravel/laravel" project at "./demo"\nInstalling laravel/laravel (v8.5.22)\n  - Downloading laravel/laravel (v8.5.22)\n  - Installing laravel/laravel (v8.5.22): Extracting archive\nCreated project in /home/vagrant/Projects/demo\n...\nApplication ready! Build something amazing.\n'),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建成功")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br")])]),t("p",[s._v("随后访问配置 "),t("code",[s._v("Homestead.yaml")]),s._v(" 中对应的 index.php 的 IP 即可。")]),s._v(" "),t("h3",{attrs:{id:"创建项目报错："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建项目报错："}},[s._v("#")]),s._v(" 创建项目报错：")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("Creating a "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"laravel/laravel"')]),s._v(" project at "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./demo"')]),s._v("\nhttps://repo.packagist.org could not be fully loaded "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("curl error "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" downloading https://repo.packagist.org/packages.json: Connection timed out after "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10004")]),s._v(" milliseconds"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", package information was loaded from the "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v(" cache and may be out of "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Composer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Downloader"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("TransportException"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("                                                                                           \n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" error "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" downloading https://repo.packagist.org/p2/laravel/laravel.json: Connection timed out after "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10004")]),s._v(" milliseconds  \n\ncreate-project "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-s"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("--stability STABILITY"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("--prefer-source"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("--prefer-dist"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("--repository REPOSITORY"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("--repository-url REPOSITORY-URL"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("--add-repository"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("--dev"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("--no-dev"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("--no-custom-installers"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("--no-scripts"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("--no-progress"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("--no-secure-http"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("--keep-vcs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("--remove-vcs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("--no-install"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("--ignore-platform-req IGNORE-PLATFORM-REQ"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("--ignore-platform-reqs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("--ask"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("--"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("package"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("directory"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("version"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[s._v("将源更改为阿里云 Composer 国内镜像:")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("composer")]),s._v(" config -g repo.packagist "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("composer")]),s._v(" https://mirrors.aliyun.com/composer/\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"新增站点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#新增站点"}},[s._v("#")]),s._v(" 新增站点")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("新增 sites")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" ~/.homestead/Homestead.yaml\n\nfolders:\n    - map: D:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Development"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("homestead"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("projects\n      to: /home/vagrant/Projects\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在sites中新增一条map记录,修改后配置如下: ")]),s._v("\n\nsites:\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### 默认")]),s._v("\n    - map: homestead.test\n      to: /home/vagrant/Projects/demo/public\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### 新增一个网站")]),s._v("\n    - map: another.test\n      to: /home/vagrant/Projects/demo2/public\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("新增 host 记录")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/hosts\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('### 新增一条host记录，IP是Homestead.yaml中"ip"，修改后如下：')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### ... (略) ...")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".10.10 homestead.test\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".10.10 another.test\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("重启虚拟机")]),s._v(" "),t("p",[s._v("进入"),t("code",[s._v("homestead")]),s._v("文件夹目录：")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("vagrant reload --provision\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("打开浏览器，输入"),t("code",[s._v("http://another.test/")]),s._v(", 即可正常访问。")])])]),s._v(" "),t("h2",{attrs:{id:"连接-homestead-数据库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#连接-homestead-数据库"}},[s._v("#")]),s._v(" 连接 Homestead 数据库")]),s._v(" "),t("h3",{attrs:{id:"mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql"}},[s._v("#")]),s._v(" MySql")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"title"}),t("p",[s._v("地址：192.168.10.10，端口：3306")]),s._v(" "),t("p",[s._v("用户名：homestead，密码：secret")])]),t("ul",[t("li",[t("p",[s._v("使用客户端连接：")]),s._v(" "),t("p",[s._v("配置连接，输入地址、端口、用户、密码即可。")])]),s._v(" "),t("li",[t("p",[s._v("使用命令登录虚拟机：")]),s._v(" "),t("p",[s._v("先启动虚拟机，并用ssh连接，执行以下操作：")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 连接 mysql 数据库")]),s._v("\nvagrant@homestead:~$ mysql -h192.168.10.10 -uhomestead -p\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输入密码")]),s._v("\nEnter password:\nWelcome to the MySQL monitor.  Commands end with "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" or "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("g.\nYour MySQL connection "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" is "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("\nServer version: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.0")]),s._v(".25-0ubuntu0.20.04.1 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Ubuntu"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nCopyright "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2000")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v(", Oracle and/or its affiliates.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'help;'")]),s._v(" or "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\\h'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" help. Type "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'"),t("span",{pre:!0,attrs:{class:"token entity",title:"\\c"}},[s._v("\\c")]),s._v("'")]),s._v(" to "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("clear")]),s._v(" the current input statement.\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示全部数据库")]),s._v("\nmysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" show databases"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n+--------------------+\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Database           "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+--------------------+\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" homestead          "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" information_schema "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" mysql              "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" performance_schema "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" sys                "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+--------------------+\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" rows "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(" sec"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br")])])])]),s._v(" "),t("h3",{attrs:{id:"postgresql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#postgresql"}},[s._v("#")]),s._v(" PostgreSQL")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"title"}),t("p",[s._v("地址：192.168.10.10，端口：3306")]),s._v(" "),t("p",[s._v("用户名：homestead，密码：secret")])]),t("ul",[t("li",[t("p",[s._v("使用客户端连接：")]),s._v(" "),t("p",[s._v("配置连接，输入地址、端口、用户、密码即可。")])]),s._v(" "),t("li",[t("p",[s._v("使用命令连接：")]),s._v(" "),t("p",[s._v("先启动虚拟机，并用ssh连接，执行以下操作：")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 连接 postgresql 数据库")]),s._v("\nvagrant@homestead:~$ psql -U homestead -h localhost -W\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输入密码")]),s._v("\nPassword:\npsql "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Ubuntu "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.3")]),s._v("-1.pgdg20.04+1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")]),s._v("\nSSL connection "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("protocol: TLSv1.3, cipher: TLS_AES_256_GCM_SHA384, bits: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("256")]),s._v(", compression: off"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nType "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"help"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" help.\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示全部数据库")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("homestead")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \\list")]),s._v("\n                                  List of databases\n   Name    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   Owner   "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Encoding "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   Collate   "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("    Ctype    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   Access privileges\n-----------+-----------+----------+-------------+-------------+-----------------------\n homestead "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" homestead "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" UTF8     "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" en_US.UTF-8 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" en_US.UTF-8 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n postgres  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" postgres  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" UTF8     "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" en_US.UTF-8 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" en_US.UTF-8 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n template0 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" postgres  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" UTF8     "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" en_US.UTF-8 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" en_US.UTF-8 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("c/postgres          +\n           "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("           "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("          "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("             "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("             "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("postgres")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CTc/postgres\n template1 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" postgres  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" UTF8     "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" en_US.UTF-8 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" en_US.UTF-8 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("c/postgres          +\n           "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("           "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("          "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("             "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("             "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("postgres")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CTc/postgres\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" rows"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br")])])])]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"title"}),t("p",[t("strong",[s._v("注意：")]),s._v(" 若无法使用"),t("code",[s._v("IP(192.168.10.10)")]),s._v("连接"),t("code",[s._v("PostgreSQL")]),s._v("数据库，需做以下操作：")])]),t("ol",[t("li",[t("p",[s._v("查看"),t("code",[s._v("PostgreSQL")]),s._v("版本：")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("vagrant@homestead:$ psql -V\npsql "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("PostgreSQL"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Ubuntu "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.3")]),s._v("-1.pgdg20.04+1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("根据版本进入需要配置的目录，我这里版本是"),t("code",[s._v("13.3")]),s._v("，所以进入的文件目录是"),t("code",[s._v("13")])]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入配置文件夹")]),s._v("\nvagrant@homestead:~$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /etc/postgresql/13/main/\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看全部文件及其权限")]),s._v("\nvagrant@homestead:/etc/postgresql/13/main$ ll\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 省略其他...")]),s._v("\n-rw-r----- "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" postgres postgres  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5071")]),s._v(" Sep "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" 08:05 pg_hba.conf\n-rw-r--r-- "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" postgres postgres "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28281")]),s._v(" May "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":40 postgresql.conf\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("需要 "),t("code",[s._v("postgresql.conf")]),s._v(" 和 "),t("code",[s._v("pg_hba.conf")]),s._v(" 文件的独写权限：")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 记得修改文件权限")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置其他用户可独写 pg_hba.conf 文件")]),s._v("\nvagrant@homestead:/etc/postgresql/13/main$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" o+rw pg_hba.conf\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置其他用户可独写 pg_hba.conf 文件")]),s._v("\nvagrant@homestead:/etc/postgresql/13/main$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" o+w postgresql.conf\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 权限配置完成之后是这样的")]),s._v("\nvagrant@homestead:/etc/postgresql/13/main$ ll\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 省略其他...")]),s._v("\n-rw-r--rw- "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" postgres postgres  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5071")]),s._v(" Sep "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" 08:05 pg_hba.conf\n-rw-r--rw- "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" postgres postgres "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28281")]),s._v(" May "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":40 postgresql.conf\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("postgresql.conf")]),s._v("配置项改为"),t("code",[s._v("listen_address='*'")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用上下键可以查看配置项")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 按"I"键，可进行编辑')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 编辑完成后按"Esc"退出编辑')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 退出编辑后，按"Shift" + ":"，然后输入命令即可："wq"(保存并退出)、"q"(仅退出)')]),s._v("\nvagrant@homestead:/etc/postgresql/13/main$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" postgresql.conf\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("配置"),t("code",[s._v("pg_hba.conf")]),s._v("：")]),s._v(" "),t("p",[s._v("在此文件最下面一行加：")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# IPv4 local connections 允许所有ip连接:")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v(" all all "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0/0 trust\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("编辑文件：")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用上下键可以查看配置项")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 按"I"键，可进行编辑')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 编辑完成后按"Esc"退出编辑')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 退出编辑后，按"Shift" + ":"，然后输入命令即可："wq"(保存并退出)、"q"(仅退出)')]),s._v("\nvagrant@homestead:/etc/postgresql/13/main$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" pg_hba.conf\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("重启"),t("code",[s._v("PostgreSql")]),s._v("服务：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("# 重启 PostgreSql 服务\nsudo service postgresql restart\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("重新按照上面连接的命令执行即可使用IP连接")])])]),s._v(" "),t("h2",{attrs:{id:"redis-服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#redis-服务"}},[s._v("#")]),s._v(" REDIS 服务")]),s._v(" "),t("h3",{attrs:{id:"修改-redis-密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改-redis-密码"}},[s._v("#")]),s._v(" 修改 redis 密码")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"title"}),t("p",[s._v("注意修改以下"),t("code",[s._v("密码")]),s._v("部分")])]),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("vagrant@homestead:~$ redis-cli\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置密码")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" config "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" requirepass 密码\nOK\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 验证密码，若提示 OK ，则配置成功")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" auth 密码\nOK\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将密码覆盖写入配置中，否则重启便会失效")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" config rewrite\nOK\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("stop-writes-on-bgsave-error no")]),s._v(" "),t("h3",{attrs:{id:"重启服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#重启服务"}},[s._v("#")]),s._v(" 重启服务")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" redis-server restart\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"安装-ftp-文件服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-ftp-文件服务"}},[s._v("#")]),s._v(" 安装 FTP 文件服务")]),s._v(" "),t("ol",[t("li",[s._v("安装软件包；"),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("sudo apt-get install vsftpd\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[s._v("打开配置文件："),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("vim /etc/vsftpd.conf\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[s._v("修改参数："),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#这些设置系统默认是开启的，可以不管")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("listen")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("NO\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("listen_ipv6")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("dirmessage_enable")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("use_localtime")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("xferlog_enable")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("connect_from_port_20")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#下面的就要自定义设置了，建议系统默认的不管，然后复制下面的")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#是否允许匿名访问，NO为不允许")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("anonymous_enable")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("NO\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#是否允许本地用户访问,就是linux本机中存在的用户，YES允许")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("local_enable")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#是否开启写模式，YES为开启")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("write_enable")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#新建文件权限，一般设置为022，那么新建后的文件的权限就是777-022=755")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("local_umask")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("022\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#是否启动userlist为通过模式，YES的话只有存在于userlist文件中的用户才能登录ftp（可以理解为userlist是一个白名单），NO的话，白名单失效，和下面一个参数配合使用")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("userlist_enable")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#是否启动userlist为禁止模式，YES表示在userlist中的用户禁止登录ftp（黑名单），NO表示黑名单失效，我们已经让userlist作为一个白名单，所以无需使用黑名单功能")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("userlist_deny")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("NO\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#指定哪个文件作为userlist文件，我们稍后编辑这个文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("userlist_file")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/etc/vsftpd.user_list\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#是否限制本地所有用户切换根目录的权限，YES为开启限制，即登录后的用户不能访问ftp根目录以外的目录，当然要限制啦")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("chroot_local_user")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#是否启动限制用户的名单list为允许模式，上面的YES限制了所有用户，可以用这个名单作为白名单，作为例外允许访问ftp根目录以外")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("chroot_list_enable")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设置哪个文件是list文件，里面的用户将不受限制的去访问ftp根目录以外的目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("chroot_list_file")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/etc/vsftpd.chroot_list\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#是否开启写模式，开启后可以进行创建文件夹等写入操作")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("allow_writeable_chroot")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("YES\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设置ftp根目录的位置,这个文件我们稍后自己创建")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("local_root")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("~/ftp\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设置端口")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("listen_port")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br")])])]),s._v(" "),t("li",[s._v("重启服务："),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("sudo /etc/init.d/vsftpd restart\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[s._v("设置用户："),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("# 添加用户\nsudo useradd -d ~/ftp username\n# 配置密码\nsudo passwd username\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])])]),s._v(" "),t("li",[s._v("创建 user_list 文件："),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("sudo vim /etc/vsftpd.user_list\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),s._v("将 username 添加进去，多个用户的话，换行添加下一个。")]),s._v(" "),t("li",[s._v("创建用户文件夹："),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("sudo mkdir ~/myftp\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[s._v("连接 ftp："),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("# linux访问输入ftp 加 你的IP\nftp xxx.xxx.xxx.xxx\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])])]),s._v(" "),t("h2",{attrs:{id:"安装-php-扩展"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-php-扩展"}},[s._v("#")]),s._v(" 安装 PHP 扩展")]),s._v(" "),t("h3",{attrs:{id:"imagick"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#imagick"}},[s._v("#")]),s._v(" Imagick")]),s._v(" "),t("p",[s._v("安装 libmagickwand-dev 和 libmagickcore-dev，不知道有没有用")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("sudo apt-get install libmagickwand-dev libmagickcore-dev\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ol",[t("li",[t("p",[s._v("使用pecl安装")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入 /etc/share 目录，此目录存放的全部软件包")]),s._v("\nvagrant@homestead:~$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/share\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装 imagick")]),s._v("\nvagrant@homestead:/usr/share$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" pecl "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" imagick\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 省略 ...")]),s._v("\nInstalling shared extensions:     /usr/lib/php/20160303/\nInstalling header files:          /usr/include/php/20160303/\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("使用源码安装")]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"title"}),t("p",[s._v("使用源码安装不知道哪儿不对，安装成功配置好后 "),t("code",[s._v("imagick")]),s._v(" 扩展没生效")])]),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入 /etc/share 目录，此目录存放的全部软件包")]),s._v("\nvagrant@homestead:~$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/share\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载 imagick")]),s._v("\nvagrant@homestead:/usr/share$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://pecl.php.net/get/imagick-3.5.1.tgz\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 解压")]),s._v("\nvagrant@homestead:/usr/share$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" xf imagick-3.5.1.tgz\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入 imagick 目录")]),s._v("\nvagrant@homestead:/usr/share$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" imagick-3.5.1\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("编译并安装")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"title"}),t("p",[s._v("注意：若php版本不同，则替换以下"),t("code",[s._v("7.1")]),s._v("部分改成你需要的php版本号")])]),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("vagrant@homestead:/usr/share/imagick-3.5.1$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" /usr/bin/phpize7.1\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 省略 ...")]),s._v("\nvagrant@homestead:/usr/share/imagick-3.5.1$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" ./configure --with-php-config"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/bin/php-config7.1\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 省略 ...")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装")]),s._v("\nvagrant@homestead:/usr/share/imagick-3.5.1$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 省略 ...")]),s._v("\nInstalling shared extensions:     /usr/lib/php/20160303/\nInstalling header files:          /usr/include/php/20160303/\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("配置")]),s._v(" "),t("ul",[t("li",[s._v("方法一（建议使用方法二，因为 "),t("code",[s._v("php")]),s._v(" 的配置文件较多，改起来比较麻烦）："),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入配置文件夹")]),s._v("\nvagrant@homestead:/usr/share/imagick-3.5.1$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /etc/php/7.1/cli\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 编辑配置文件")]),s._v("\nvagrant@homestead:/etc/php/7.1/cli$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" php.ini\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 按 I 键可输入，按 Esc 退出输入后再按 :wq 退出并保存")]),s._v("\n填入 "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'extension=imagick.so'")]),s._v(" 并保存\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])])]),s._v(" "),t("li",[s._v("方法二："),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("vagrant@homestead:/usr/share/imagick-3.5.1$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /etc/php/7.1/mods-available/\nvagrant@homestead:/etc/php/7.1/mods-available$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" imagick.ini\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 按 I 键可输入，按 Esc 退出输入后再按 :wq 退出并保存")]),s._v("\n填入 "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'extension=imagick.so'")]),s._v(" 并保存\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入 fpm 文件")]),s._v("\nvagrant@homestead:/etc/php/7.1/mods-available$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /etc/php/7.1/fpm/conf.d\nvagrant@homestead:/etc/php/7.1/mods-available$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -s /etc/php/7.1/mods-available/imagick.ini "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("-imagick.ini\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])])])])]),s._v(" "),t("li",[t("p",[s._v("重启服务")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("vagrant@homestead:/etc/php/7.1/cli$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" php7.1-fpm restart\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])])],1)}),[],!1,null,null,null);a.default=e.exports}}]);