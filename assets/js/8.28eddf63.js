(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{521:function(s,t,n){s.exports=n.p+"assets/img/server.5dfd8606.png"},522:function(s,t,n){s.exports=n.p+"assets/img/start-1.9954a7c0.png"},523:function(s,t,n){s.exports=n.p+"assets/img/start-2.de624044.png"},524:function(s,t,n){s.exports=n.p+"assets/img/start-3.838eb992.png"},525:function(s,t,n){s.exports=n.p+"assets/img/start-4.01427cb5.png"},526:function(s,t,n){s.exports=n.p+"assets/img/start-5.338799a3.png"},562:function(s,t,n){"use strict";n.r(t);var a=n(5),e=Object(a.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("Boxx"),s._v(" "),a("h2",{attrs:{id:"系统要求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统要求"}},[s._v("#")]),s._v(" 系统要求")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("p",[s._v("官方安装文档地址："),a("a",{attrs:{href:"https://www.jenkins.io/zh/doc/book/installing/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.jenkins.io/zh/doc/book/installing/"),a("OutboundLink")],1)])]),a("ul",[a("li",[a("strong",[s._v("最低推荐配置")]),s._v(" "),a("ul",[a("li",[s._v("256MB可用内存")]),s._v(" "),a("li",[s._v("1GB可用磁盘空间(作为一个Docker容器运行jenkins的话推荐10GB)")])])]),s._v(" "),a("li",[a("strong",[s._v("为小团队推荐的硬件配置")]),s._v(" "),a("ul",[a("li",[s._v("1GB+可用内存")]),s._v(" "),a("li",[s._v("50 GB+ 可用磁盘空间")])])]),s._v(" "),a("li",[a("strong",[s._v("软件配置")]),s._v(" "),a("ul",[a("li",[s._v("Java 8—无论是Java运行时环境（JRE）还是Java开发工具包（JDK）都可以。")])])])]),s._v(" "),a("h2",{attrs:{id:"系统环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统环境"}},[s._v("#")]),s._v(" 系统环境")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("操作系统：Ubuntu Server 20.04 LTS 64bit")])]),s._v(" "),a("li",[a("p",[s._v("Java版本：jdk1.8（可安装 "),a("code",[s._v("openjdk")]),s._v("，因在此需要安装的是 "),a("code",[s._v("jdk")]),s._v("）")])])]),s._v(" "),a("h2",{attrs:{id:"安装-java-jdk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-java-jdk"}},[s._v("#")]),s._v(" 安装 Java jdk")]),s._v(" "),a("p",[s._v("请点击查看 "),a("RouterLink",{attrs:{to:"/articles/server/java-install.html"}},[s._v("Java jdk 安装文档")])],1),s._v(" "),a("h2",{attrs:{id:"安装-git"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-git"}},[s._v("#")]),s._v(" 安装 Git")]),s._v(" "),a("p",[s._v("请点击查看 "),a("RouterLink",{attrs:{to:"/articles/server/git-install.html"}},[s._v("Git 安装文档")])],1),s._v(" "),a("h2",{attrs:{id:"安装-jenkins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-jenkins"}},[s._v("#")]),s._v(" 安装 Jenkins")]),s._v(" "),a("ol",[a("li",[s._v("先将秘钥添加到系统（这是 Jenkins 的 Debian 软件包存储库，用于自动安装和升级。要使用此存储库，首先将密钥添加到您的系统）"),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" -q -O - https://pkg.jenkins.io/debian/jenkins.io.key "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" apt-key "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" -\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[s._v("添加 "),a("code",[s._v("jenkins")]),s._v(" 存储库到服务器的 "),a("code",[s._v("sources.list")]),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" -c "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'echo deb http://pkg.jenkins.io/debian-stable binary/ > /etc/apt/sources.list.d/jenkins.list'")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[s._v("更新本地包并安装jenkins"),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" update\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" jenkins\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])])]),s._v(" "),a("h2",{attrs:{id:"安装报错"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装报错"}},[s._v("#")]),s._v(" 安装报错")]),s._v(" "),a("h3",{attrs:{id:"sudo-apt-get-update-报错证书验证失败"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sudo-apt-get-update-报错证书验证失败"}},[s._v("#")]),s._v(" "),a("code",[s._v("sudo apt-get update")]),s._v(" 报错证书验证失败")]),s._v(" "),a("p",[s._v("错误信息如下：")]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("lighthouse@VM-0-5-ubuntu:~$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" update\nHit:1 http://mirrors.tencentyun.com/ubuntu focal InRelease\nHit:2 http://mirrors.tencentyun.com/ubuntu focal-security InRelease                \nHit:3 http://mirrors.tencentyun.com/ubuntu focal-updates InRelease                                 \nIgn:4 https://pkg.jenkins.io/debian-stable binary/ InRelease                                       \nHit:5 https://download.docker.com/linux/ubuntu focal InRelease         \nErr:6 https://pkg.jenkins.io/debian-stable binary/ Release\n  Certificate verification failed: The certificate is NOT trusted. The certificate chain uses expired certificate.  Could not handshake: Error "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" the certificate verification. "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("IP: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("151.101")]),s._v(".74.133 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("443")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nReading package lists"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". Done                    \nE: The repository "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https://pkg.jenkins.io/debian-stable binary/ Release'")]),s._v(" does not have a Release file.\nN: Updating from such a repository can't be "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v(" securely, and is therefore disabled by default.\nN: See apt-secure"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" manpage "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" repository creation and user configuration details.\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("ol",[a("li",[a("p",[s._v("解决方法：重装 "),a("code",[s._v("ca-certificates")])]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" --reinstall ca-certificates\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("重新更新包，并安装")]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" update\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" jenkins\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"sudo-apt-get-install-jenkins-启动找不到-java-路径报错"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sudo-apt-get-install-jenkins-启动找不到-java-路径报错"}},[s._v("#")]),s._v(" "),a("code",[s._v("sudo apt-get install jenkins")]),s._v(" 启动找不到 "),a("code",[s._v("java")]),s._v(" 路径报错")]),s._v(" "),a("p",[s._v("错误信息如下：")]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("lighthouse@VM-0-5-ubuntu:~$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" jenkinsReading package lists"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". Done\nBuilding dependency tree       \nReading state information"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". Done\nThe following additional packages will be installed:\n  daemon\nThe following NEW packages will be installed:\n  daemon jenkins\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" upgraded, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" newly installed, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" to remove and "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("256")]),s._v(" not upgraded.\nNeed to get "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("71.9")]),s._v(" MB of archives.\nAfter this operation, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("72.6")]),s._v(" MB of additional disk space will be used.\nDo you want to continue? "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Y/n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" y\nGet:1 http://mirrors.tencentyun.com/ubuntu focal/universe amd64 daemon amd64 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.6")]),s._v(".4-1build2 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("96.3")]),s._v(" kB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nGet:2 https://pkg.jenkins.io/debian-stable binary/ jenkins "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.319")]),s._v(".2 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("71.8")]),s._v(" MB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nFetched "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("71.9")]),s._v(" MB "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" 22s "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3,219")]),s._v(" kB/s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("                                                                \nSelecting previously unselected package daemon.\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Reading database "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("87032")]),s._v(" files and directories currently installed."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nPreparing to unpack "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("./daemon_0.6.4-1build2_amd64.deb "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nUnpacking daemon "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.6")]),s._v(".4-1build2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nSelecting previously unselected package jenkins.\nPreparing to unpack "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("./jenkins_2.319.2_all.deb "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nUnpacking jenkins "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.319")]),s._v(".2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nSetting up daemon "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.6")]),s._v(".4-1build2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nSetting up jenkins "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.319")]),s._v(".2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nJob "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" jenkins.service failed because the control process exited with error code.\nSee "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"systemctl status jenkins.service"')]),s._v(" and "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"journalctl -xe"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" details.\ninvoke-rc.d: initscript jenkins, action "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"start"')]),s._v(" failed.\n● jenkins.service - LSB: Start Jenkins at boot "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v("\n     Loaded: loaded "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("/etc/init.d/jenkins"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" generated"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n     Active: failed "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Result: exit-code"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" since Wed "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("-01-19 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":54:20 CST"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 7ms ago\n       Docs: man:systemd-sysv-generator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    Process: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2721745")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ExecStart")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/etc/init.d/jenkins start "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("code"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("exited, "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("status")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/FAILURE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nJan "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":54:20 VM-0-5-ubuntu systemd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": Starting LSB: Start Jenkins at boot time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nJan "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":54:20 VM-0-5-ubuntu jenkins"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2721745")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": ERROR: No Java executable found "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" current "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" /bin:/usr/bin:/sbin:/usr/sbin\nJan "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":54:20 VM-0-5-ubuntu jenkins"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2721745")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": If you actually have java installed on the system "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" sure the executable is "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" the aforementioned path and that "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'type -p java'")]),s._v(" returns the java executable path\nJan "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":54:20 VM-0-5-ubuntu systemd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": jenkins.service: Control process exited, "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("code")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("exited, "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("status")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/FAILURE\nJan "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":54:20 VM-0-5-ubuntu systemd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": jenkins.service: Failed with result "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'exit-code'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\nJan "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":54:20 VM-0-5-ubuntu systemd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": Failed to start LSB: Start Jenkins at boot time.\ndpkg: error processing package jenkins "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("--configure"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n installed jenkins package post-installation script subprocess returned error "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" status "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nProcessing triggers "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" man-db "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.9")]),s._v(".1-1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nProcessing triggers "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" systemd "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("245.4")]),s._v("-4ubuntu3.1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nErrors were encountered "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" processing:\n jenkins\nE: Sub-process /usr/bin/dpkg returned an error code "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br")])]),a("ol",[a("li",[a("p",[s._v("输入以下命令查看 "),a("code",[s._v("java")]),s._v(" 路径")]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("lighthouse@VM-0-5-ubuntu:~$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" -p java\n/usr/lib/java/jdk1.8.0_321/bin/java\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("方法一：建立java软连接（推荐使用此方法）")]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -s /usr/lib/java/jdk1.8.0_321/bin/java /usr/bin/java\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("方法二：编辑配置文件，并保存")]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("lighthouse@VM-0-5-ubuntu:~$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/init.d/jenkins\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 找到以下配置，将 JAVA 值改为以上步骤的返回值")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#JAVA=`type -p java`")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JAVA")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/lib/java/jdk1.8.0_321/bin/java\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("重启")]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("systemctl restart jenkins.service\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("查看状态")]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("lighthouse@VM-0-5-ubuntu:~$ systemctl status jenkins.service\n● jenkins.service - LSB: Start Jenkins at boot "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v("\n     Loaded: loaded "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("/etc/init.d/jenkins"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" generated"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n     Active: active "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("exited"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" since Wed "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("-01-19 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":22:38 CST"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 1min 16s ago\n       Docs: man:systemd-sysv-generator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    Process: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2727114")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ExecStart")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/etc/init.d/jenkins start "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("code"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("exited, "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("status")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/SUCCESS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nlighthouse@VM-0-5-ubuntu:~$ \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])])])]),s._v(" "),a("h2",{attrs:{id:"初始化-jenkins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初始化-jenkins"}},[s._v("#")]),s._v(" 初始化 Jenkins")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("p",[s._v("默认端口 "),a("code",[s._v("8080")])])]),a("ol",[a("li",[a("p",[s._v("因我使用的是腾讯云服务器，需要添加防火墙规则，如下所示：\n"),a("img",{attrs:{src:n(521),alt:"腾讯云防火墙"}})])]),s._v(" "),a("li",[a("p",[s._v("使用 "),a("code",[s._v("ip:端口")]),s._v(" 访问\n"),a("img",{attrs:{src:n(522),alt:"访问"}})]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /var/lib/jenkins/secrets/initialAdminPassword\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("将密码复制到文本框中，点击继续")])]),s._v(" "),a("li",[a("p",[s._v("安装插件，我选择的是安装推荐的插件\n"),a("img",{attrs:{src:n(523),alt:"访问"}})])]),s._v(" "),a("li",[a("p",[s._v("创建管理员\n"),a("img",{attrs:{src:n(524),alt:"创建管理员"}})])]),s._v(" "),a("li",[a("p",[s._v("实例配置\n"),a("img",{attrs:{src:n(525),alt:"实例配置"}})])]),s._v(" "),a("li",[a("p",[s._v("完成\n"),a("img",{attrs:{src:n(526),alt:"完成"}})])])]),s._v(" "),a("h2",{attrs:{id:"更新-jenkins-版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更新-jenkins-版本"}},[s._v("#")]),s._v(" 更新 Jenkins 版本")]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入文件夹")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/share/jenkins\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关闭 Jenkins 服务")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" jenkins stop\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将 jenkins.war 改名为 jenkins.war.old")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" jenkins.war jenkins.war.old\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载最新版本 war 包")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sudo wget https://updates.jenkins-ci.org/latest/jenkins.war")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://updates.jenkins.io/download/war/2.319.3/jenkins.war\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开启服务")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" jenkins start\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])])],1)}),[],!1,null,null,null);t.default=e.exports}}]);